webpackJsonp([3],{"2ikD":function(t,e,n){(function(t){var e,r;!function(o,i,a){if(!o.Nasa){var s=o,u=(e=function(){return function t(n,r,o){function i(s,u){if(!r[s]){if(!n[s]){if(!u&&"function"==typeof e&&e)return e(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};n[s][0].call(l.exports,function(t){return i(n[s][1][t]||t)},l,l.exports,t,n,r,o)}return r[s].exports}for(var a="function"==typeof e&&e,s=0;s<o.length;s++)i(o[s]);return i}}()({1:[function(t,e,n){"use strict";var r=function(){var t,e=((t=i.createElement("style")).type="text/css",i.head.appendChild(t),t.sheet);return function(t,n,r){r=r||0,e.insertRule(t+"{"+n+"}",r)}}();e.exports={isChrome:function(){if(void 0!==o&&navigator.userAgent.toLowerCase().match(/chrome\/([\d\.]+)/))return!0;return!1},isMobile:function(){return navigator.userAgent.toLowerCase().indexOf("mobile")>-1},isNano:function(){return navigator.userAgent.toLowerCase().indexOf("nasnanoapp")>-1},isWechat:function(){return navigator.userAgent.toLowerCase().indexOf("micromessenger")>-1},randomCode:function(t){var e,n,r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o="";for(e=0;t>e;e+=1)n=Math.random()*r.length,n=Math.floor(n),o+=r.charAt(n);return o},addCssRule:r}},{}],2:[function(t,e,n){"use strict";var r=t("./config"),a=t("./Utils");e.exports=function(t,e){var n=r.nanoScheme(e.debug);n=n+"://virtual?params="+JSON.stringify(t),o.location.href=n,!a.isNano()&&e.mobile.showInstallTip&&(s=function(t){t||function(t){var e=i.createElement("BUTTON");e.className="install",e.innerHTML=t.mobile.installTip||"INSTALL NASNano/下载星云钱包";var n="text-align: center;    background-color: #000;    color: #fff;    border-radius: 20px;    width: 80%;    height: 40px;    position: absolute;    left: 50%;    top: 50%;    transform: translate(-50%,-50%);";a.addCssRule(".install",n);var r=i.createElement("div");r.className="install-background",n="position: fixed;\tbottom:0;\tz-index:1000;\theight:40px;    width:100%;\tbackground-color: rgba(0, 0, 0, 0);",a.addCssRule(".install-background",n),r.appendChild(e);var s=i.getElementsByTagName("body")[0];s.appendChild(r),e.onclick=function(){s.removeChild(r),r=null,o.location.href="https://nano.nebulas.io/"}}(e)},c=+new Date,l=0,u=setInterval(function(){l++;var t=+new Date-c;(l>=100||t>3e3)&&(clearInterval(u),function(t){t>3e3||i.hidden||i.webkitHidden?s(1):s(0)}(t))},20));var s,u,c,l}},{"./Utils":1,"./config":3}],3:[function(t,e,n){"use strict";var r="https://pay.nebulas.io/api/mainnet/pay";e.exports={payUrl:function(t){return(t=t||!1)?"https://pay.nebulas.io/api/pay":r},nanoScheme:function(t){return(t=t||!1)?"openapp.NASnano.testnet":"openapp.NASnano"},mainnetUrl:r,testnetUrl:"https://pay.nebulas.io/api/pay"}},{}],4:[function(t,e,n){"use strict";var r={};o.addEventListener("message",function(t){if(console.log("nebpay: received resp.data: "+JSON.stringify(t.data)),"content"===t.data.src){var e=t.data.serialNumber,n=r[e];"function"==typeof n&&n(e,t.data.resp)}}),e.exports=function(t){t.listener&&(r[t.serialNumber]=t.listener),t.listener=a,o.postMessage({src:"nebPay",logo:"nebulas",params:t},"*")}},{}],5:[function(t,e,n){"use strict";var r=function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.open(t.method||"GET",t.url),t.headers&&Object.keys(t.headers).forEach(function(e){r.setRequestHeader(e,t.headers[e])}),r.onload=function(){r.status>=200&&r.status<300?e(r.response):n(r.statusText)},r.onerror=function(){return n(r.statusText)},r.send(t.body)})};e.exports={get:function(t,e){return r({url:t,method:"GET",body:e})},post:function(t,e,n){var o={url:t,method:"POST",body:JSON.stringify(e),header:n};return r(o)},request:r}},{}],6:[function(t,e,n){"use strict";var r=t("bignumber.js"),o=t("./Utils"),i=t("./qrcode"),a=t("./extensionHandler"),s=t("./appHandler"),u=t("./config"),c=function(t,e){this.appKey=t,this.appSecret=e};c.prototype={submit:function(t,e,n,c,l){l.serialNumber=o.randomCode(32);var f=new r(n=n||"0").times("1000000000000000000"),d={serialNumber:l.serialNumber,goods:l.goods,pay:{currency:t,to:e,value:f.toString(10),payload:c},callback:l.callback||u.payUrl(l.debug),listener:l.listener,nrc20:l.nrc20};o.isChrome()&&!o.isMobile()&&l.extension.openExtension&&a(d);var h={category:"jump",des:"confirmTransfer",pageParams:d};return o.isMobile()&&s(h,l),l.qrcode.showQRCode&&!o.isNano()&&i.showQRCode(JSON.stringify(h),l),l.serialNumber}},e.exports=c},{"./Utils":1,"./appHandler":2,"./config":3,"./extensionHandler":4,"./qrcode":7,"bignumber.js":8}],7:[function(t,e,n){"use strict";var r=t("qrcode"),a=t("./Utils"),s=function(t,e){void 0!==e.listener&&e.listener(e.serialNumber,t)};e.exports={showQRCode:function(t,e){if(void 0!==o){var n=e.qrcode.container;void 0===n&&(n=function(t){var e=i.createElement("canvas");e.className="qrcode",a.addCssRule(".qrcode","box-shadow: 2px 2px 12px lightgray;");var n=i.createElement("div");n.className="qrcode-container";var r="text-align: center;    background-color: #fff0;    border-radius: 20px;    width: 300px;    height: 300px;    position: absolute;    left: 50%;    top: 50%;    transform: translate(-50%,-50%);";a.addCssRule(".qrcode-container",r),n.appendChild(e);var o=i.createElement("BUTTON");o.className="complete",o.innerHTML=t.qrcode.completeTip||"COMPLETE/完成支付",r="background-color: #000;\tborder-radius: 4px;\twidth: 300px;\theight: 40px;\t// padding: 20px;\tmargin-top: 20px;\tcolor: #fff;\t",a.addCssRule(".complete",r),n.appendChild(o);var u=i.createElement("BUTTON");u.className="cancel",u.innerHTML=t.qrcode.cancelTip||"CANCEL/取消支付",r="background-color: #666;\tborder-radius: 4px;\twidth: 300px;\theight: 40px;\t// padding: 20px;\tmargin-top: 10px;\tmargin-bottom: 20px;\tcolor: #fff;\t",a.addCssRule(".cancel",r),n.appendChild(u);var c=i.createElement("div");c.className="qrcode-background",r="position:absolute;\tleft:0;\ttop:0;\tz-index:100;\theight:100%;\twidth:100%;\tbackground-color: rgba(0, 0, 0, 0.4);",a.addCssRule(".qrcode-background",r),c.appendChild(n);var l=i.getElementsByTagName("body")[0];return l.appendChild(c),c.onclick=function(){null!==c&&(l.removeChild(c),s(!1,t))},u.onclick=function(){l.removeChild(c),c=null,s(!1,t)},o.onclick=function(){l.removeChild(c),c=null,s(!0,t)},e}(e)),r.toCanvas(n,t,function(t){t&&console.error(t)})}}}},{"./Utils":1,qrcode:13}],8:[function(t,e,o){!function(t){"use strict";var i,s=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,u=Math.ceil,c=Math.floor,l=" not a boolean or binary digit",f="rounding mode",d="number type has more than 15 significant digits",h="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",p=1e14,g=14,m=9007199254740991,v=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],b=1e7,y=1e9;function w(t){var e=0|t;return t>0||t===e?e:e-1}function E(t){for(var e,n,r=1,o=t.length,i=t[0]+"";r<o;){for(e=t[r++]+"",n=g-e.length;n--;e="0"+e);i+=e}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function A(t,e){var n,r,o=t.c,i=e.c,a=t.s,s=e.s,u=t.e,c=e.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=u==c,!o||!i)return r?0:!o^n?1:-1;if(!r)return u>c^n?1:-1;for(s=(u=o.length)<(c=i.length)?u:c,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return u==c?0:u>c^n?1:-1}function N(t,e,n){return(t=_(t))>=e&&t<=n}function x(t){return"[object Array]"==Object.prototype.toString.call(t)}function T(t,e,n){for(var r,o,i=[0],a=0,s=t.length;a<s;){for(o=i.length;o--;i[o]*=e);for(i[r=0]+=h.indexOf(t.charAt(a++));r<i.length;r++)i[r]>n-1&&(null==i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function C(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function R(t,e){var n,r;if(e<0){for(r="0.";++e;r+="0");t=r+t}else if(++e>(n=t.length)){for(r="0",e-=n;--e;r+="0");t+=r}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}function _(t){return(t=parseFloat(t))<0?u(t):c(t)}(i=function t(e){var n,r,o,i,a,S,I,O,P=0,L=J.prototype,B=new J(1),M=20,j=4,D=-7,k=21,U=-1e7,q=1e7,V=!0,F=X,Y=!1,z=1,H=0,W={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};function J(t,e){var n,o,i,a,u,l,f=this;if(!(f instanceof J))return new J(t,e);if(null!=e&&F(e,2,64,P,"base")){if(l=t+"",10==(e|=0))return tt(f=new J(t instanceof J?t:l),M+f.e+1,j);if((a="number"==typeof t)&&0*t!=0||!new RegExp("^-?"+(n="["+h.slice(0,e)+"]+")+"(?:\\."+n+")?$",e<37?"i":"").test(l))return r(f,l,a,e);a?(f.s=1/t<0?(l=l.slice(1),-1):1,V&&l.replace(/^0\.0*|\./,"").length>15&&Z(P,d,t),a=!1):f.s=45===l.charCodeAt(0)?(l=l.slice(1),-1):1,l=K(l,10,e,f.s)}else{if(t instanceof J)return f.s=t.s,f.e=t.e,f.c=(t=t.c)?t.slice():t,void(P=0);if((a="number"==typeof t)&&0*t==0){if(f.s=1/t<0?(t=-t,-1):1,t===~~t){for(o=0,i=t;i>=10;i/=10,o++);return f.e=o,f.c=[t],void(P=0)}l=t+""}else{if(!s.test(l=t+""))return r(f,l,a);f.s=45===l.charCodeAt(0)?(l=l.slice(1),-1):1}}for((o=l.indexOf("."))>-1&&(l=l.replace(".","")),(i=l.search(/e/i))>0?(o<0&&(o=i),o+=+l.slice(i+1),l=l.substring(0,i)):o<0&&(o=l.length),i=0;48===l.charCodeAt(i);i++);for(u=l.length;48===l.charCodeAt(--u););if(l=l.slice(i,u+1))if(u=l.length,a&&V&&u>15&&(t>m||t!==c(t))&&Z(P,d,f.s*t),(o=o-i-1)>q)f.c=f.e=null;else if(o<U)f.c=[f.e=0];else{if(f.e=o,f.c=[],i=(o+1)%g,o<0&&(i+=g),i<u){for(i&&f.c.push(+l.slice(0,i)),u-=g;i<u;)f.c.push(+l.slice(i,i+=g));l=l.slice(i),i=g-l.length}else i-=u;for(;i--;l+="0");f.c.push(+l)}else f.c=[f.e=0];P=0}function K(t,e,r,o){var i,a,s,u,c,l,f,d=t.indexOf("."),p=M,g=j;for(r<37&&(t=t.toLowerCase()),d>=0&&(s=H,H=0,t=t.replace(".",""),c=(f=new J(r)).pow(t.length-d),H=s,f.c=T(R(E(c.c),c.e),10,e),f.e=f.c.length),a=s=(l=T(t,r,e)).length;0==l[--s];l.pop());if(!l[0])return"0";if(d<0?--a:(c.c=l,c.e=a,c.s=o,l=(c=n(c,f,p,g,e)).c,u=c.r,a=c.e),d=l[i=a+p+1],s=e/2,u=u||i<0||null!=l[i+1],u=g<4?(null!=d||u)&&(0==g||g==(c.s<0?3:2)):d>s||d==s&&(4==g||u||6==g&&1&l[i-1]||g==(c.s<0?8:7)),i<1||!l[0])t=u?R("1",-p):"0";else{if(l.length=i,u)for(--e;++l[--i]>e;)l[i]=0,i||(++a,l=[1].concat(l));for(s=l.length;!l[--s];);for(d=0,t="";d<=s;t+=h.charAt(l[d++]));t=R(t,a)}return t}function $(t,e,n,r){var o,i,a,s,u;if(n=null!=n&&F(n,0,8,r,f)?0|n:j,!t.c)return t.toString();if(o=t.c[0],a=t.e,null==e)u=E(t.c),u=19==r||24==r&&a<=D?C(u,a):R(u,a);else if(i=(t=tt(new J(t),e,n)).e,s=(u=E(t.c)).length,19==r||24==r&&(e<=i||i<=D)){for(;s<e;u+="0",s++);u=C(u,i)}else if(e-=a,u=R(u,i),i+1>s){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=i-s)>0)for(i+1==s&&(u+=".");e--;u+="0");return t.s<0&&o?"-"+u:u}function Q(t,e){var n,r,o=0;for(x(t[0])&&(t=t[0]),n=new J(t[0]);++o<t.length;){if(!(r=new J(t[o])).s){n=r;break}e.call(n,r)&&(n=r)}return n}function X(t,e,n,r,o){return(t<e||t>n||t!=_(t))&&Z(r,(o||"decimal places")+(t<e||t>n?" out of range":" not an integer"),t),!0}function G(t,e,n){for(var r=1,o=e.length;!e[--o];e.pop());for(o=e[0];o>=10;o/=10,r++);return(n=r+n*g-1)>q?t.c=t.e=null:n<U?t.c=[t.e=0]:(t.e=n,t.c=e),t}function Z(t,e,n){var r=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][t]+"() "+e+": "+n);throw r.name="BigNumber Error",P=0,r}function tt(t,e,n,r){var o,i,a,s,l,f,d,h=t.c,m=v;if(h){t:{for(o=1,s=h[0];s>=10;s/=10,o++);if((i=e-o)<0)i+=g,a=e,d=(l=h[f=0])/m[o-a-1]%10|0;else if((f=u((i+1)/g))>=h.length){if(!r)break t;for(;h.length<=f;h.push(0));l=d=0,o=1,a=(i%=g)-g+1}else{for(l=s=h[f],o=1;s>=10;s/=10,o++);d=(a=(i%=g)-g+o)<0?0:l/m[o-a-1]%10|0}if(r=r||e<0||null!=h[f+1]||(a<0?l:l%m[o-a-1]),r=n<4?(d||r)&&(0==n||n==(t.s<0?3:2)):d>5||5==d&&(4==n||r||6==n&&(i>0?a>0?l/m[o-a]:0:h[f-1])%10&1||n==(t.s<0?8:7)),e<1||!h[0])return h.length=0,r?(e-=t.e+1,h[0]=m[(g-e%g)%g],t.e=-e||0):h[0]=t.e=0,t;if(0==i?(h.length=f,s=1,f--):(h.length=f+1,s=m[g-i],h[f]=a>0?c(l/m[o-a]%m[a])*s:0),r)for(;;){if(0==f){for(i=1,a=h[0];a>=10;a/=10,i++);for(a=h[0]+=s,s=1;a>=10;a/=10,s++);i!=s&&(t.e++,h[0]==p&&(h[0]=1));break}if(h[f]+=s,h[f]!=p)break;h[f--]=0,s=1}for(i=h.length;0===h[--i];h.pop());}t.e>q?t.c=t.e=null:t.e<U&&(t.c=[t.e=0])}return t}return J.another=t,J.ROUND_UP=0,J.ROUND_DOWN=1,J.ROUND_CEIL=2,J.ROUND_FLOOR=3,J.ROUND_HALF_UP=4,J.ROUND_HALF_DOWN=5,J.ROUND_HALF_EVEN=6,J.ROUND_HALF_CEIL=7,J.ROUND_HALF_FLOOR=8,J.EUCLID=9,J.config=J.set=function(){var t,e,n=0,r={},o=arguments,i=o[0],a=i&&"object"==typeof i?function(){if(i.hasOwnProperty(e))return null!=(t=i[e])}:function(){if(o.length>n)return null!=(t=o[n++])};return a(e="DECIMAL_PLACES")&&F(t,0,y,2,e)&&(M=0|t),r[e]=M,a(e="ROUNDING_MODE")&&F(t,0,8,2,e)&&(j=0|t),r[e]=j,a(e="EXPONENTIAL_AT")&&(x(t)?F(t[0],-y,0,2,e)&&F(t[1],0,y,2,e)&&(D=0|t[0],k=0|t[1]):F(t,-y,y,2,e)&&(D=-(k=0|(t<0?-t:t)))),r[e]=[D,k],a(e="RANGE")&&(x(t)?F(t[0],-y,-1,2,e)&&F(t[1],1,y,2,e)&&(U=0|t[0],q=0|t[1]):F(t,-y,y,2,e)&&(0|t?U=-(q=0|(t<0?-t:t)):V&&Z(2,e+" cannot be zero",t))),r[e]=[U,q],a(e="ERRORS")&&(t===!!t||1===t||0===t?(P=0,F=(V=!!t)?X:N):V&&Z(2,e+l,t)),r[e]=V,a(e="CRYPTO")&&(!0===t||!1===t||1===t||0===t?t?!(t="undefined"==typeof crypto)&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?Y=!0:V?Z(2,"crypto unavailable",t?void 0:crypto):Y=!1:Y=!1:V&&Z(2,e+l,t)),r[e]=Y,a(e="MODULO_MODE")&&F(t,0,9,2,e)&&(z=0|t),r[e]=z,a(e="POW_PRECISION")&&F(t,0,y,2,e)&&(H=0|t),r[e]=H,a(e="FORMAT")&&("object"==typeof t?W=t:V&&Z(2,e+" not an object",t)),r[e]=W,r},J.max=function(){return Q(arguments,L.lt)},J.min=function(){return Q(arguments,L.gt)},J.random=(o=9007199254740992*Math.random()&2097151?function(){return c(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,r,i,a,s=0,l=[],f=new J(B);if(t=null!=t&&F(t,0,y,14)?0|t:M,i=u(t/g),Y)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));s<i;)(a=131072*e[s]+(e[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),e[s]=n[0],e[s+1]=n[1]):(l.push(a%1e14),s+=2);s=i/2}else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=7);s<i;)(a=281474976710656*(31&e[s])+1099511627776*e[s+1]+4294967296*e[s+2]+16777216*e[s+3]+(e[s+4]<<16)+(e[s+5]<<8)+e[s+6])>=9e15?crypto.randomBytes(7).copy(e,s):(l.push(a%1e14),s+=7);s=i/7}else Y=!1,V&&Z(14,"crypto unavailable",crypto);if(!Y)for(;s<i;)(a=o())<9e15&&(l[s++]=a%1e14);for(i=l[--s],t%=g,i&&t&&(a=v[g-t],l[s]=c(i/a)*a);0===l[s];l.pop(),s--);if(s<0)l=[r=0];else{for(r=-1;0===l[0];l.splice(0,1),r-=g);for(s=1,a=l[0];a>=10;a/=10,s++);s<g&&(r-=g-s)}return f.e=r,f.c=l,f}),n=function(){function t(t,e,n){var r,o,i,a,s=0,u=t.length,c=e%b,l=e/b|0;for(t=t.slice();u--;)s=((o=c*(i=t[u]%b)+(r=l*i+(a=t[u]/b|0)*c)%b*b+s)/n|0)+(r/b|0)+l*a,t[u]=o%n;return s&&(t=[s].concat(t)),t}function e(t,e,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(t[o]!=e[o]){i=t[o]>e[o]?1:-1;break}return i}function n(t,e,n,r){for(var o=0;n--;)t[n]-=o,o=t[n]<e[n]?1:0,t[n]=o*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,o,i,a,s){var u,l,f,d,h,m,v,b,y,E,A,N,x,T,C,R,_,S=r.s==o.s?1:-1,I=r.c,O=o.c;if(!(I&&I[0]&&O&&O[0]))return new J(r.s&&o.s&&(I?!O||I[0]!=O[0]:O)?I&&0==I[0]||!O?0*S:S/0:NaN);for(y=(b=new J(S)).c=[],S=i+(l=r.e-o.e)+1,s||(s=p,l=w(r.e/g)-w(o.e/g),S=S/g|0),f=0;O[f]==(I[f]||0);f++);if(O[f]>(I[f]||0)&&l--,S<0)y.push(1),d=!0;else{for(T=I.length,R=O.length,f=0,S+=2,(h=c(s/(O[0]+1)))>1&&(O=t(O,h,s),I=t(I,h,s),R=O.length,T=I.length),x=R,A=(E=I.slice(0,R)).length;A<R;E[A++]=0);_=O.slice(),_=[0].concat(_),C=O[0],O[1]>=s/2&&C++;do{if(h=0,(u=e(O,E,R,A))<0){if(N=E[0],R!=A&&(N=N*s+(E[1]||0)),(h=c(N/C))>1)for(h>=s&&(h=s-1),v=(m=t(O,h,s)).length,A=E.length;1==e(m,E,v,A);)h--,n(m,R<v?_:O,v,s),v=m.length,u=1;else 0==h&&(u=h=1),v=(m=O.slice()).length;if(v<A&&(m=[0].concat(m)),n(E,m,A,s),A=E.length,-1==u)for(;e(O,E,R,A)<1;)h++,n(E,R<A?_:O,A,s),A=E.length}else 0===u&&(h++,E=[0]);y[f++]=h,E[0]?E[A++]=I[x]||0:(E=[I[x]],A=1)}while((x++<T||null!=E[0])&&S--);d=null!=E[0],y[0]||y.splice(0,1)}if(s==p){for(f=1,S=y[0];S>=10;S/=10,f++);tt(b,i+(b.e=f+l*g-1)+1,a,d)}else b.e=l,b.r=+d;return b}}(),i=/^(-?)0([xbo])(?=\w[\w.]*$)/i,a=/^([^.]+)\.$/,S=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g,r=function(t,e,n,r){var o,s=n?e:e.replace(O,"");if(I.test(s))t.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(i,function(t,e,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?t:e}),r&&(o=r,s=s.replace(a,"$1").replace(S,"0.$1")),e!=s))return new J(s,o);V&&Z(P,"not a"+(r?" base "+r:"")+" number",e),t.s=null}t.c=t.e=null,P=0},L.absoluteValue=L.abs=function(){var t=new J(this);return t.s<0&&(t.s=1),t},L.ceil=function(){return tt(new J(this),this.e+1,2)},L.comparedTo=L.cmp=function(t,e){return P=1,A(this,new J(t,e))},L.decimalPlaces=L.dp=function(){var t,e,n=this.c;if(!n)return null;if(t=((e=n.length-1)-w(this.e/g))*g,e=n[e])for(;e%10==0;e/=10,t--);return t<0&&(t=0),t},L.dividedBy=L.div=function(t,e){return P=3,n(this,new J(t,e),M,j)},L.dividedToIntegerBy=L.divToInt=function(t,e){return P=4,n(this,new J(t,e),0,1)},L.equals=L.eq=function(t,e){return P=5,0===A(this,new J(t,e))},L.floor=function(){return tt(new J(this),this.e+1,3)},L.greaterThan=L.gt=function(t,e){return P=6,A(this,new J(t,e))>0},L.greaterThanOrEqualTo=L.gte=function(t,e){return P=7,1===(e=A(this,new J(t,e)))||0===e},L.isFinite=function(){return!!this.c},L.isInteger=L.isInt=function(){return!!this.c&&w(this.e/g)>this.c.length-2},L.isNaN=function(){return!this.s},L.isNegative=L.isNeg=function(){return this.s<0},L.isZero=function(){return!!this.c&&0==this.c[0]},L.lessThan=L.lt=function(t,e){return P=8,A(this,new J(t,e))<0},L.lessThanOrEqualTo=L.lte=function(t,e){return P=9,-1===(e=A(this,new J(t,e)))||0===e},L.minus=L.sub=function(t,e){var n,r,o,i,a=this,s=a.s;if(P=10,e=(t=new J(t,e)).s,!s||!e)return new J(NaN);if(s!=e)return t.s=-e,a.plus(t);var u=a.e/g,c=t.e/g,l=a.c,f=t.c;if(!u||!c){if(!l||!f)return l?(t.s=-e,t):new J(f?a:NaN);if(!l[0]||!f[0])return f[0]?(t.s=-e,t):new J(l[0]?a:3==j?-0:0)}if(u=w(u),c=w(c),l=l.slice(),s=u-c){for((i=s<0)?(s=-s,o=l):(c=u,o=f),o.reverse(),e=s;e--;o.push(0));o.reverse()}else for(r=(i=(s=l.length)<(e=f.length))?s:e,s=e=0;e<r;e++)if(l[e]!=f[e]){i=l[e]<f[e];break}if(i&&(o=l,l=f,f=o,t.s=-t.s),(e=(r=f.length)-(n=l.length))>0)for(;e--;l[n++]=0);for(e=p-1;r>s;){if(l[--r]<f[r]){for(n=r;n&&!l[--n];l[n]=e);--l[n],l[r]+=p}l[r]-=f[r]}for(;0==l[0];l.splice(0,1),--c);return l[0]?G(t,l,c):(t.s=3==j?-1:1,t.c=[t.e=0],t)},L.modulo=L.mod=function(t,e){var r,o,i=this;return P=11,t=new J(t,e),!i.c||!t.s||t.c&&!t.c[0]?new J(NaN):!t.c||i.c&&!i.c[0]?new J(i):(9==z?(o=t.s,t.s=1,r=n(i,t,0,3),t.s=o,r.s*=o):r=n(i,t,0,z),i.minus(r.times(t)))},L.negated=L.neg=function(){var t=new J(this);return t.s=-t.s||null,t},L.plus=L.add=function(t,e){var n,r=this,o=r.s;if(P=12,e=(t=new J(t,e)).s,!o||!e)return new J(NaN);if(o!=e)return t.s=-e,r.minus(t);var i=r.e/g,a=t.e/g,s=r.c,u=t.c;if(!i||!a){if(!s||!u)return new J(o/0);if(!s[0]||!u[0])return u[0]?t:new J(s[0]?r:0*o)}if(i=w(i),a=w(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=u):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(e=u.length)<0&&(n=u,u=s,s=n,e=o),o=0;e;)o=(s[--e]=s[e]+u[e]+o)/p|0,s[e]=p===s[e]?0:s[e]%p;return o&&(s=[o].concat(s),++a),G(t,s,a)},L.precision=L.sd=function(t){var e,n,r=this,o=r.c;if(null!=t&&t!==!!t&&1!==t&&0!==t&&(V&&Z(13,"argument"+l,t),t!=!!t&&(t=null)),!o)return null;if(e=(n=o.length-1)*g+1,n=o[n]){for(;n%10==0;n/=10,e--);for(n=o[0];n>=10;n/=10,e++);}return t&&r.e+1>e&&(e=r.e+1),e},L.round=function(t,e){var n=new J(this);return(null==t||F(t,0,y,15))&&tt(n,~~t+this.e+1,null!=e&&F(e,0,8,15,f)?0|e:j),n},L.shift=function(t){var e=this;return F(t,-m,m,16,"argument")?e.times("1e"+_(t)):new J(e.c&&e.c[0]&&(t<-m||t>m)?e.s*(t<0?0:1/0):e)},L.squareRoot=L.sqrt=function(){var t,e,r,o,i,a=this,s=a.c,u=a.s,c=a.e,l=M+4,f=new J("0.5");if(1!==u||!s||!s[0])return new J(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(u=Math.sqrt(+a))||u==1/0?(((e=E(s)).length+c)%2==0&&(e+="0"),u=Math.sqrt(e),c=w((c+1)/2)-(c<0||c%2),r=new J(e=u==1/0?"1e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):r=new J(u+""),r.c[0])for((u=(c=r.e)+l)<3&&(u=0);;)if(i=r,r=f.times(i.plus(n(a,i,l,1))),E(i.c).slice(0,u)===(e=E(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(o||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(tt(r,r.e+M+2,1),t=!r.times(r).eq(a));break}if(!o&&(tt(i,i.e+M+2,0),i.times(i).eq(a))){r=i;break}l+=4,u+=4,o=1}return tt(r,r.e+M+1,j,t)},L.times=L.mul=function(t,e){var n,r,o,i,a,s,u,c,l,f,d,h,m,v,y,E=this,A=E.c,N=(P=17,t=new J(t,e)).c;if(!(A&&N&&A[0]&&N[0]))return!E.s||!t.s||A&&!A[0]&&!N||N&&!N[0]&&!A?t.c=t.e=t.s=null:(t.s*=E.s,A&&N?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=w(E.e/g)+w(t.e/g),t.s*=E.s,(u=A.length)<(f=N.length)&&(m=A,A=N,N=m,o=u,u=f,f=o),o=u+f,m=[];o--;m.push(0));for(v=p,y=b,o=f;--o>=0;){for(n=0,d=N[o]%y,h=N[o]/y|0,i=o+(a=u);i>o;)n=((c=d*(c=A[--a]%y)+(s=h*c+(l=A[a]/y|0)*d)%y*y+m[i]+n)/v|0)+(s/y|0)+h*l,m[i--]=c%v;m[i]=n}return n?++r:m.splice(0,1),G(t,m,r)},L.toDigits=function(t,e){var n=new J(this);return t=null!=t&&F(t,1,y,18,"precision")?0|t:null,e=null!=e&&F(e,0,8,18,f)?0|e:j,t?tt(n,t,e):n},L.toExponential=function(t,e){return $(this,null!=t&&F(t,0,y,19)?1+~~t:null,e,19)},L.toFixed=function(t,e){return $(this,null!=t&&F(t,0,y,20)?~~t+this.e+1:null,e,20)},L.toFormat=function(t,e){var n=$(this,null!=t&&F(t,0,y,21)?~~t+this.e+1:null,e,21);if(this.c){var r,o=n.split("."),i=+W.groupSize,a=+W.secondaryGroupSize,s=W.groupSeparator,u=o[0],c=o[1],l=this.s<0,f=l?u.slice(1):u,d=f.length;if(a&&(r=i,i=a,a=r,d-=r),i>0&&d>0){for(r=d%i||i,u=f.substr(0,r);r<d;r+=i)u+=s+f.substr(r,i);a>0&&(u+=s+f.slice(r)),l&&(u="-"+u)}n=c?u+W.decimalSeparator+((a=+W.fractionGroupSize)?c.replace(new RegExp("\\d{"+a+"}\\B","g"),"$&"+W.fractionGroupSeparator):c):u}return n},L.toFraction=function(t){var e,r,o,i,a,s,u,c,l,f=V,d=this,h=d.c,p=new J(B),m=r=new J(B),b=u=new J(B);if(null!=t&&(V=!1,s=new J(t),V=f,(f=s.isInt())&&!s.lt(B)||(V&&Z(22,"max denominator "+(f?"out of range":"not an integer"),t),t=!f&&s.c&&tt(s,s.e+1,1).gte(B)?s:null)),!h)return d.toString();for(l=E(h),i=p.e=l.length-d.e-1,p.c[0]=v[(a=i%g)<0?g+a:a],t=!t||s.cmp(p)>0?i>0?p:m:s,a=q,q=1/0,s=new J(l),u.c[0]=0;c=n(s,p,0,1),1!=(o=r.plus(c.times(b))).cmp(t);)r=b,b=o,m=u.plus(c.times(o=m)),u=o,p=s.minus(c.times(o=p)),s=o;return o=n(t.minus(r),b,0,1),u=u.plus(o.times(m)),r=r.plus(o.times(b)),u.s=m.s=d.s,e=n(m,b,i*=2,j).minus(d).abs().cmp(n(u,r,i,j).minus(d).abs())<1?[m.toString(),b.toString()]:[u.toString(),r.toString()],q=a,e},L.toNumber=function(){return+this},L.toPower=L.pow=function(t,e){var n,r,o,i=c(t<0?-t:+t),a=this;if(null!=e&&(P=23,e=new J(e)),!F(t,-m,m,23,"exponent")&&(!isFinite(t)||i>m&&(t/=0)||parseFloat(t)!=t&&!(t=NaN))||0==t)return n=Math.pow(+a,t),new J(e?n%e:n);for(e?t>1&&a.gt(B)&&a.isInt()&&e.gt(B)&&e.isInt()?a=a.mod(e):(o=e,e=null):H&&(n=u(H/g+2)),r=new J(B);;){if(i%2){if(!(r=r.times(a)).c)break;n?r.c.length>n&&(r.c.length=n):e&&(r=r.mod(e))}if(!(i=c(i/2)))break;a=a.times(a),n?a.c&&a.c.length>n&&(a.c.length=n):e&&(a=a.mod(e))}return e?r:(t<0&&(r=B.div(r)),o?r.mod(o):n?tt(r,H,j):r)},L.toPrecision=function(t,e){return $(this,null!=t&&F(t,1,y,24,"precision")?0|t:null,e,24)},L.toString=function(t){var e,n=this,r=n.s,o=n.e;return null===o?r?(e="Infinity",r<0&&(e="-"+e)):e="NaN":(e=E(n.c),e=null!=t&&F(t,2,64,25,"base")?K(R(e,o),0|t,10,r):o<=D||o>=k?C(e,o):R(e,o),r<0&&n.c[0]&&(e="-"+e)),e},L.truncated=L.trunc=function(){return tt(new J(this),this.e+1,1)},L.valueOf=L.toJSON=function(){var t,e=this,n=e.e;return null===n?e.toString():(t=E(e.c),t=n<=D||n>=k?C(t,n):R(t,n),e.s<0?"-"+t:t)},L.isBigNumber=!0,null!=e&&J.config(e),J}()).default=i.BigNumber=i,(r=function(){return i}.call(o,n,o,e))===a||(e.exports=r)}()},{}],9:[function(t,e,n){"use strict";var r=t("window-or-global");e.exports=function(){return"function"==typeof r.Promise&&"function"==typeof r.Promise.prototype.then}},{"window-or-global":39}],10:[function(t,e,n){"use strict";var r={single_source_shortest_paths:function(t,e,n){var o={},i={};i[e]=0;var a,s,u,c,l,f,d,h=r.PriorityQueue.make();for(h.push(e,0);!h.empty();)for(u in s=(a=h.pop()).value,c=a.cost,l=t[s]||{})l.hasOwnProperty(u)&&(f=c+l[u],d=i[u],(void 0===i[u]||d>f)&&(i[u]=f,h.push(u,f),o[u]=s));if(void 0!==n&&void 0===i[n]){var p=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(p)}return o},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e;r;)n.push(r),t[r],r=t[r];return n.reverse(),n},find_path:function(t,e,n){var o=r.single_source_shortest_paths(t,e,n);return r.extract_shortest_path_from_predecessor_list(o,n)},PriorityQueue:{make:function(t){var e,n=r.PriorityQueue,o={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(o[e]=n[e]);return o.queue=[],o.sorter=t.sorter||n.default_sorter,o},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};void 0!==e&&(e.exports=r)},{}],11:[function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},a=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,n=r.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;for(e in t);return void 0===e||r.call(t,e)};e.exports=function t(){var e,n,r,o,s,u,c=arguments[0],l=1,f=arguments.length,d=!1;for("boolean"==typeof c&&(d=c,c=arguments[1]||{},l=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});l<f;++l)if(null!=(e=arguments[l]))for(n in e)r=c[n],c!==(o=e[n])&&(d&&o&&(a(o)||(s=i(o)))?(s?(s=!1,u=r&&i(r)?r:[]):u=r&&a(r)?r:{},c[n]=t(d,u,o)):void 0!==o&&(c[n]=o));return c}},{}],12:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],13:[function(t,e,n){var r=t("can-promise"),o=t("./core/qrcode"),i=t("./renderer/canvas"),s=t("./renderer/svg-tag.js");function u(t,e,n,i,s){var u=[].slice.call(arguments,1),c=u.length,l="function"==typeof u[c-1];if(!l&&!r())throw new Error("Callback required as last argument");if(!l){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=e,e=i=a):2!==c||e.getContext||(i=n,n=e,e=a),new Promise(function(r,a){try{var s=o.create(n,i);r(t(s,e,i))}catch(t){a(t)}})}if(c<2)throw new Error("Too few arguments provided");2===c?(s=n,n=e,e=i=a):3===c&&(e.getContext&&void 0===s?(s=i,i=a):(s=i,i=n,n=e,e=a));try{var f=o.create(n,i);s(null,t(f,e,i))}catch(t){s(t)}}n.create=o.create,n.toCanvas=u.bind(null,i.render),n.toDataURL=u.bind(null,i.renderToDataURL),n.toString=u.bind(null,function(t,e,n){return s.render(t,n)})},{"./core/qrcode":29,"./renderer/canvas":35,"./renderer/svg-tag.js":36,"can-promise":9}],14:[function(t,e,n){var r=t("./utils").getSymbolSize;n.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,n=r(t),o=145===n?26:2*Math.ceil((n-13)/(2*e-2)),i=[n-7],a=1;a<e-1;a++)i[a]=i[a-1]-o;return i.push(6),i.reverse()},n.getPositions=function(t){for(var e=[],r=n.getRowColCoords(t),o=r.length,i=0;i<o;i++)for(var a=0;a<o;a++)0===i&&0===a||0===i&&a===o-1||i===o-1&&0===a||e.push([r[i],r[a]]);return e}},{"./utils":33}],15:[function(t,e,n){var r=t("./mode"),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(t){this.mode=r.ALPHANUMERIC,this.data=t}i.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var n=45*o.indexOf(this.data[e]);n+=o.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(o.indexOf(this.data[e]),6)},e.exports=i},{"./mode":26}],16:[function(t,e,n){function r(){this.buffer=[],this.length=0}r.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},e.exports=r},{}],17:[function(t,e,n){var r=t("../utils/buffer");function o(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new r(t*t),this.data.fill(0),this.reservedBit=new r(t*t),this.reservedBit.fill(0)}o.prototype.set=function(t,e,n,r){var o=t*this.size+e;this.data[o]=n,r&&(this.reservedBit[o]=!0)},o.prototype.get=function(t,e){return this.data[t*this.size+e]},o.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},o.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},e.exports=o},{"../utils/buffer":38}],18:[function(t,e,n){var r=t("../utils/buffer"),o=t("./mode");function i(t){this.mode=o.BYTE,this.data=new r(t)}i.getBitsLength=function(t){return 8*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},e.exports=i},{"../utils/buffer":38,"./mode":26}],19:[function(t,e,n){var r=t("./error-correction-level"),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];n.getBlocksCount=function(t,e){switch(e){case r.L:return o[4*(t-1)+0];case r.M:return o[4*(t-1)+1];case r.Q:return o[4*(t-1)+2];case r.H:return o[4*(t-1)+3];default:return a}},n.getTotalCodewordsCount=function(t,e){switch(e){case r.L:return i[4*(t-1)+0];case r.M:return i[4*(t-1)+1];case r.Q:return i[4*(t-1)+2];case r.H:return i[4*(t-1)+3];default:return a}}},{"./error-correction-level":20}],20:[function(t,e,n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2},n.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},n.from=function(t,e){if(n.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return e}}},{}],21:[function(t,e,n){var r=t("./utils").getSymbolSize;n.getPositions=function(t){var e=r(t);return[[0,0],[e-7,0],[0,e-7]]}},{"./utils":33}],22:[function(t,e,n){var r=t("./utils"),o=r.getBCHDigit(1335);n.getEncodedBits=function(t,e){for(var n=t.bit<<3|e,i=n<<10;r.getBCHDigit(i)-o>=0;)i^=1335<<r.getBCHDigit(i)-o;return 21522^(n<<10|i)}},{"./utils":33}],23:[function(t,e,n){var r=t("../utils/buffer"),o=new r(512),i=new r(256);!function(){for(var t=1,e=0;e<255;e++)o[e]=t,i[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)o[e]=o[e-255]}(),n.log=function(t){if(t<1)throw new Error("log("+t+")");return i[t]},n.exp=function(t){return o[t]},n.mul=function(t,e){return 0===t||0===e?0:o[i[t]+i[e]]}},{"../utils/buffer":38}],24:[function(t,e,n){var r=t("./mode"),o=t("./utils");function i(t){this.mode=r.KANJI,this.data=t}i.getBitsLength=function(t){return 13*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var n=o.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}},e.exports=i},{"./mode":26,"./utils":33}],25:[function(t,e,n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var r=3,o=3,i=40,s=10;function u(t,e,r){switch(t){case n.Patterns.PATTERN000:return(e+r)%2==0;case n.Patterns.PATTERN001:return e%2==0;case n.Patterns.PATTERN010:return r%3==0;case n.Patterns.PATTERN011:return(e+r)%3==0;case n.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case n.Patterns.PATTERN101:return e*r%2+e*r%3==0;case n.Patterns.PATTERN110:return(e*r%2+e*r%3)%2==0;case n.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}n.isValid=function(t){return t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},n.from=function(t){return n.isValid(t)?parseInt(t,10):a},n.getPenaltyN1=function(t){for(var e=t.size,n=0,o=0,i=0,a=null,s=null,u=0;u<e;u++){o=i=0,a=s=null;for(var c=0;c<e;c++){var l=t.get(u,c);l===a?o++:(o>=5&&(n+=r+(o-5)),a=l,o=1),(l=t.get(c,u))===s?i++:(i>=5&&(n+=r+(i-5)),s=l,i=1)}o>=5&&(n+=r+(o-5)),i>=5&&(n+=r+(i-5))}return n},n.getPenaltyN2=function(t){for(var e=t.size,n=0,r=0;r<e-1;r++)for(var i=0;i<e-1;i++){var a=t.get(r,i)+t.get(r,i+1)+t.get(r+1,i)+t.get(r+1,i+1);4!==a&&0!==a||n++}return n*o},n.getPenaltyN3=function(t){for(var e=t.size,n=0,r=0,o=0,a=0;a<e;a++){r=o=0;for(var s=0;s<e;s++)r=r<<1&2047|t.get(a,s),s>=10&&(1488===r||93===r)&&n++,o=o<<1&2047|t.get(s,a),s>=10&&(1488===o||93===o)&&n++}return n*i},n.getPenaltyN4=function(t){for(var e=0,n=t.data.length,r=0;r<n;r++)e+=t.data[r];return Math.abs(Math.ceil(100*e/n/5)-10)*s},n.applyMask=function(t,e){for(var n=e.size,r=0;r<n;r++)for(var o=0;o<n;o++)e.isReserved(o,r)||e.xor(o,r,u(t,o,r))},n.getBestMask=function(t,e){for(var r=Object.keys(n.Patterns).length,o=0,i=1/0,a=0;a<r;a++){e(a),n.applyMask(a,t);var s=n.getPenaltyN1(t)+n.getPenaltyN2(t)+n.getPenaltyN3(t)+n.getPenaltyN4(t);n.applyMask(a,t),s<i&&(i=s,o=a)}return o}},{}],26:[function(t,e,n){var r=t("./version"),o=t("./regex");n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!r.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},n.getBestModeForData=function(t){return o.testNumeric(t)?n.NUMERIC:o.testAlphanumeric(t)?n.ALPHANUMERIC:o.testKanji(t)?n.KANJI:n.BYTE},n.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},n.isValid=function(t){return t&&t.bit&&t.ccBits},n.from=function(t,e){if(n.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return e}}},{"./regex":31,"./version":34}],27:[function(t,e,n){var r=t("./mode");function o(t){this.mode=r.NUMERIC,this.data=t.toString()}o.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){var e,n,r;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),r=parseInt(n,10),t.put(r,10);var o=this.data.length-e;o>0&&(n=this.data.substr(e),r=parseInt(n,10),t.put(r,3*o+1))},e.exports=o},{"./mode":26}],28:[function(t,e,n){var r=t("../utils/buffer"),o=t("./galois-field");n.mul=function(t,e){var n=new r(t.length+e.length-1);n.fill(0);for(var i=0;i<t.length;i++)for(var a=0;a<e.length;a++)n[i+a]^=o.mul(t[i],e[a]);return n},n.mod=function(t,e){for(var n=new r(t);n.length-e.length>=0;){for(var i=n[0],a=0;a<e.length;a++)n[a]^=o.mul(e[a],i);for(var s=0;s<n.length&&0===n[s];)s++;n=n.slice(s)}return n},n.generateECPolynomial=function(t){for(var e=new r([1]),i=0;i<t;i++)e=n.mul(e,[1,o.exp(i)]);return e}},{"../utils/buffer":38,"./galois-field":23}],29:[function(t,e,n){var r=t("../utils/buffer"),o=t("./utils"),i=t("./error-correction-level"),a=t("./bit-buffer"),s=t("./bit-matrix"),u=t("./alignment-pattern"),c=t("./finder-pattern"),l=t("./mask-pattern"),f=t("./error-correction-code"),d=t("./reed-solomon-encoder"),h=t("./version"),p=t("./format-info"),g=t("./mode"),m=t("./segments"),v=t("isarray");function b(t,e,n){var r,o,i=t.size,a=p.getEncodedBits(e,n);for(r=0;r<15;r++)o=1==(a>>r&1),r<6?t.set(r,8,o,!0):r<8?t.set(r+1,8,o,!0):t.set(i-15+r,8,o,!0),r<8?t.set(8,i-r-1,o,!0):r<9?t.set(8,15-r-1+1,o,!0):t.set(8,15-r-1,o,!0);t.set(i-8,8,1,!0)}function y(t,e,n){var i=new a;n.forEach(function(e){i.put(e.mode.bit,4),i.put(e.getLength(),g.getCharCountIndicator(e.mode,t)),e.write(i)});var s=8*(o.getSymbolTotalCodewords(t)-f.getTotalCodewordsCount(t,e));for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);for(var u=(s-i.getLengthInBits())/8,c=0;c<u;c++)i.put(c%2?17:236,8);return function(t,e,n){for(var i=o.getSymbolTotalCodewords(e),a=f.getTotalCodewordsCount(e,n),s=i-a,u=f.getBlocksCount(e,n),c=u-i%u,l=Math.floor(i/u),h=Math.floor(s/u),p=h+1,g=l-h,m=new d(g),v=0,b=new Array(u),y=new Array(u),w=0,E=new r(t.buffer),A=0;A<u;A++){var N=A<c?h:p;b[A]=E.slice(v,v+N),y[A]=m.encode(b[A]),v+=N,w=Math.max(w,N)}var x,T,C=new r(i),R=0;for(x=0;x<w;x++)for(T=0;T<u;T++)x<b[T].length&&(C[R++]=b[T][x]);for(x=0;x<g;x++)for(T=0;T<u;T++)C[R++]=y[T][x];return C}(i,t,e)}function w(t,e,n,r){var i;if(v(t))i=m.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var a=e;if(!a){var f=m.rawSplit(t);a=h.getBestVersionForData(f,n)}i=m.fromString(t,a||40)}var d=h.getBestVersionForData(i,n);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<d)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+d+".\n")}else e=d;var p=y(e,n,i),g=o.getSymbolSize(e),w=new s(g);return function(t,e){for(var n=t.size,r=c.getPositions(e),o=0;o<r.length;o++)for(var i=r[o][0],a=r[o][1],s=-1;s<=7;s++)if(!(i+s<=-1||n<=i+s))for(var u=-1;u<=7;u++)a+u<=-1||n<=a+u||(s>=0&&s<=6&&(0===u||6===u)||u>=0&&u<=6&&(0===s||6===s)||s>=2&&s<=4&&u>=2&&u<=4?t.set(i+s,a+u,!0,!0):t.set(i+s,a+u,!1,!0))}(w,e),function(t){for(var e=t.size,n=8;n<e-8;n++){var r=n%2==0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}(w),function(t,e){for(var n=u.getPositions(e),r=0;r<n.length;r++)for(var o=n[r][0],i=n[r][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?t.set(o+a,i+s,!0,!0):t.set(o+a,i+s,!1,!0)}(w,e),b(w,n,0),e>=7&&function(t,e){for(var n,r,o,i=t.size,a=h.getEncodedBits(e),s=0;s<18;s++)n=Math.floor(s/3),r=s%3+i-8-3,o=1==(a>>s&1),t.set(n,r,o,!0),t.set(r,n,o,!0)}(w,e),function(t,e){for(var n=t.size,r=-1,o=n-1,i=7,a=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var u=0;u<2;u++)if(!t.isReserved(o,s-u)){var c=!1;a<e.length&&(c=1==(e[a]>>>i&1)),t.set(o,s-u,c),-1==--i&&(a++,i=7)}if((o+=r)<0||n<=o){o-=r,r=-r;break}}}(w,p),r||(r=l.getBestMask(w,b.bind(null,w,n))),l.applyMask(r,w),b(w,n,r),{modules:w,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}n.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var n,r,a=i.M;return void 0!==e&&(a=i.from(e.errorCorrectionLevel,i.M),n=h.from(e.version),r=l.from(e.maskPattern),e.toSJISFunc&&o.setToSJISFunction(e.toSJISFunc)),w(t,n,a,r)}},{"../utils/buffer":38,"./alignment-pattern":14,"./bit-buffer":16,"./bit-matrix":17,"./error-correction-code":19,"./error-correction-level":20,"./finder-pattern":21,"./format-info":22,"./mask-pattern":25,"./mode":26,"./reed-solomon-encoder":30,"./segments":32,"./utils":33,"./version":34,isarray:12}],30:[function(t,e,n){var r=t("../utils/buffer"),o=t("./polynomial");function i(t){this.genPoly=a,this.degree=t,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(t){this.degree=t,this.genPoly=o.generateECPolynomial(this.degree)},i.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=new r(this.degree);e.fill(0);var n=r.concat([t,e],t.length+this.degree),i=o.mod(n,this.genPoly),a=this.degree-i.length;if(a>0){var s=new r(this.degree);return s.fill(0),i.copy(s,a),s}return i},e.exports=i},{"../utils/buffer":38,"./polynomial":28}],31:[function(t,e,n){var r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",o="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+").)+";n.KANJI=new RegExp(r,"g"),n.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),n.BYTE=new RegExp(o,"g"),n.NUMERIC=new RegExp("[0-9]+","g"),n.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+r+"$"),a=new RegExp("^[0-9]+$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");n.testKanji=function(t){return i.test(t)},n.testNumeric=function(t){return a.test(t)},n.testAlphanumeric=function(t){return s.test(t)}},{}],32:[function(t,e,n){var r=t("./mode"),o=t("./numeric-data"),i=t("./alphanumeric-data"),a=t("./byte-data"),s=t("./kanji-data"),u=t("./regex"),c=t("./utils"),l=t("dijkstrajs");function f(t){return unescape(encodeURIComponent(t)).length}function d(t,e,n){for(var r,o=[];null!==(r=t.exec(n));)o.push({data:r[0],index:r.index,mode:e,length:r[0].length});return o}function h(t){var e,n,o=d(u.NUMERIC,r.NUMERIC,t),i=d(u.ALPHANUMERIC,r.ALPHANUMERIC,t);return c.isKanjiModeEnabled()?(e=d(u.BYTE,r.BYTE,t),n=d(u.KANJI,r.KANJI,t)):(e=d(u.BYTE_KANJI,r.BYTE,t),n=[]),o.concat(i,e,n).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function p(t,e){switch(e){case r.NUMERIC:return o.getBitsLength(t);case r.ALPHANUMERIC:return i.getBitsLength(t);case r.KANJI:return s.getBitsLength(t);case r.BYTE:return a.getBitsLength(t)}}function g(t,e){var n,u=r.getBestModeForData(t);if((n=r.from(e,u))!==r.BYTE&&n.bit<u.bit)throw new Error('"'+t+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(u));switch(n!==r.KANJI||c.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new o(t);case r.ALPHANUMERIC:return new i(t);case r.KANJI:return new s(t);case r.BYTE:return new a(t)}}n.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(g(e,null)):e.data&&t.push(g(e.data,e.mode)),t},[])},n.fromString=function(t,e){for(var o=function(t,e){for(var n={},o={start:{}},i=["start"],a=0;a<t.length;a++){for(var s=t[a],u=[],c=0;c<s.length;c++){var l=s[c],f=""+a+c;u.push(f),n[f]={node:l,lastCount:0},o[f]={};for(var d=0;d<i.length;d++){var h=i[d];n[h]&&n[h].node.mode===l.mode?(o[h][f]=p(n[h].lastCount+l.length,l.mode)-p(n[h].lastCount,l.mode),n[h].lastCount+=l.length):(n[h]&&(n[h].lastCount=l.length),o[h][f]=p(l.length,l.mode)+4+r.getCharCountIndicator(l.mode,e))}}i=u}for(d=0;d<i.length;d++)o[i[d]].end=0;return{map:o,table:n}}(function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];switch(o.mode){case r.NUMERIC:e.push([o,{data:o.data,mode:r.ALPHANUMERIC,length:o.length},{data:o.data,mode:r.BYTE,length:o.length}]);break;case r.ALPHANUMERIC:e.push([o,{data:o.data,mode:r.BYTE,length:o.length}]);break;case r.KANJI:e.push([o,{data:o.data,mode:r.BYTE,length:f(o.data)}]);break;case r.BYTE:e.push([{data:o.data,mode:r.BYTE,length:f(o.data)}])}}return e}(h(t,c.isKanjiModeEnabled())),e),i=l.find_path(o.map,"start","end"),a=[],s=1;s<i.length-1;s++)a.push(o.table[i[s]].node);return n.fromArray(function(t){return t.reduce(function(t,e){var n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[])}(a))},n.rawSplit=function(t){return n.fromArray(h(t,c.isKanjiModeEnabled()))}},{"./alphanumeric-data":15,"./byte-data":18,"./kanji-data":24,"./mode":26,"./numeric-data":27,"./regex":31,"./utils":33,dijkstrajs:10}],33:[function(t,e,n){var r,o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];n.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},n.getSymbolTotalCodewords=function(t){return o[t]},n.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},n.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');r=t},n.isKanjiModeEnabled=function(){return void 0!==r},n.toSJIS=function(t){return r(t)}},{}],34:[function(t,e,n){var r=t("./utils"),o=t("./error-correction-code"),i=t("./error-correction-level"),s=t("./mode"),u=t("isarray"),c=r.getBCHDigit(7973);function l(t,e){return s.getCharCountIndicator(t,e)+4}function f(t,e){var n=0;return t.forEach(function(t){var r=l(t.mode,e);n+=r+t.getBitsLength()}),n}n.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40},n.from=function(t,e){return n.isValid(t)?parseInt(t,10):e},n.getCapacity=function(t,e,i){if(!n.isValid(t))throw new Error("Invalid QR Code version");void 0===i&&(i=s.BYTE);var a=8*(r.getSymbolTotalCodewords(t)-o.getTotalCodewordsCount(t,e));if(i===s.MIXED)return a;var u=a-l(i,t);switch(i){case s.NUMERIC:return Math.floor(u/10*3);case s.ALPHANUMERIC:return Math.floor(u/11*2);case s.KANJI:return Math.floor(u/13);case s.BYTE:default:return Math.floor(u/8)}},n.getBestVersionForData=function(t,e){var r,o=i.from(e,i.M);if(u(t)){if(t.length>1)return function(t,e){for(var r=1;r<=40;r++)if(f(t,r)<=n.getCapacity(r,e,s.MIXED))return r;return a}(t,o);if(0===t.length)return 1;r=t[0]}else r=t;return function(t,e,r){for(var o=1;o<=40;o++)if(e<=n.getCapacity(o,r,t))return o;return a}(r.mode,r.getLength(),o)},n.getEncodedBits=function(t){if(!n.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var e=t<<12;r.getBCHDigit(e)-c>=0;)e^=7973<<r.getBCHDigit(e)-c;return t<<12|e}},{"./error-correction-code":19,"./error-correction-level":20,"./mode":26,"./utils":33,isarray:12}],35:[function(t,e,n){var r=t("./utils");n.render=function(t,e,n){var o=n,s=e;void 0!==o||e&&e.getContext||(o=e,e=a),e||(s=function(){try{return i.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),o=r.getOptions(o);var u=r.getImageWidth(t.modules.size,o),c=s.getContext("2d"),l=c.createImageData(u,u);return r.qrToImageData(l.data,t,o),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(c,s,u),c.putImageData(l,0,0),s},n.renderToDataURL=function(t,e,r){var o=r;void 0!==o||e&&e.getContext||(o=e,e=a),o||(o={});var i=n.render(t,e,o),s=o.type||"image/png",u=o.rendererOpts||{};return i.toDataURL(s,u.quality)}},{"./utils":37}],36:[function(t,e,n){var r=t("./utils");function o(t,e){var n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function i(t,e,n){var r=t+e;return void 0!==n&&(r+=" "+n),r}n.render=function(t,e,n){var a=r.getOptions(e),s=t.modules.size,u=t.modules.data,c=s+2*a.margin,l=a.color.light.a?"<path "+o(a.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",f="<path "+o(a.color.dark,"stroke")+' d="'+function(t,e,n){for(var r="",o=0,a=!1,s=0,u=0;u<t.length;u++){var c=Math.floor(u%e),l=Math.floor(u/e);c||a||(a=!0),t[u]?(s++,u>0&&c>0&&t[u-1]||(r+=a?i("M",c+n,.5+l+n):i("m",o,0),o=0,a=!1),c+1<e&&t[u+1]||(r+=i("h",s),s=0)):o++}return r}(u,s,a.margin)+'"/>',d='viewBox="0 0 '+c+" "+c+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+d+">"+l+f+"</svg>";return"function"==typeof n&&n(null,h),h}},{"./utils":37}],37:[function(t,e,n){function r(t){if("string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");var n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}n.getOptions=function(t){t||(t={}),t.color||(t.color={});var e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:a,o=t.scale||4;return{width:n,scale:n?4:o,margin:e,color:{dark:r(t.color.dark||"#000000ff"),light:r(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},n.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},n.getImageWidth=function(t,e){var r=n.getScale(t,e);return Math.floor((t+2*e.margin)*r)},n.qrToImageData=function(t,e,r){for(var o=e.modules.size,i=e.modules.data,a=n.getScale(o,r),s=Math.floor((o+2*r.margin)*a),u=r.margin*a,c=[r.color.light,r.color.dark],l=0;l<s;l++)for(var f=0;f<s;f++){var d=4*(l*s+f),h=r.color.light;if(l>=u&&f>=u&&l<s-u&&f<s-u)h=c[i[Math.floor((l-u)/a)*o+Math.floor((f-u)/a)]?1:0];t[d++]=h.r,t[d++]=h.g,t[d++]=h.b,t[d]=h.a}}},{}],38:[function(t,e,n){"use strict";var r=t("isarray");i.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}();var o=i.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function i(t,e,n){return i.TYPED_ARRAY_SUPPORT||this instanceof i?"number"==typeof t?c(this,t):function(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer)return function(t,e,n,r){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var o;o=n===a&&r===a?new Uint8Array(e):r===a?new Uint8Array(e,n):new Uint8Array(e,n,r);i.TYPED_ARRAY_SUPPORT?o.__proto__=i.prototype:o=l(t,o);return o}(t,e,n,r);if("string"==typeof e)return function(t,e){var n=0|d(e),r=u(t,n),o=r.write(e);o!==n&&(r=r.slice(0,o));return r}(t,e);return function(t,e){if(i.isBuffer(e)){var n=0|s(e.length),r=u(t,n);return 0===r.length?r:(e.copy(r,0,0,n),r)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(o=e.length)!=o?u(t,0):l(t,e);if("Buffer"===e.type&&Array.isArray(e.data))return l(t,e.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}(this,t,e,n):new i(t,e,n)}function s(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function u(t,e){var n;return i.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e)).__proto__=i.prototype:(null===(n=t)&&(n=new i(e)),n.length=e),n}function c(t,e){var n=u(t,e<0?0:0|s(e));if(!i.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)n[r]=0;return n}function l(t,e){for(var n=e.length<0?0:0|s(e.length),r=u(t,n),o=0;o<n;o+=1)r[o]=255&e[o];return r}function f(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function d(t){return i.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:f(t).length)}i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),i.prototype.write=function(t,e,n){e===a?(n=this.length,e=0):n===a&&"string"==typeof e?(n=this.length,e=0):isFinite(e)&&(e|=0,isFinite(n)?n|=0:n=a);var r=this.length-e;if((n===a||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(t,e,n,r){return function(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}(f(e,t.length-n),t,n,r)}(this,t,e,n)},i.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=e===a?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),i.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=i.prototype;else{var o=e-t;n=new i(o,a);for(var s=0;s<o;++s)n[s]=this[s+t]}return n},i.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,a=r-n;if(this===t&&n<e&&e<r)for(o=a-1;o>=0;--o)t[o+e]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},i.prototype.fill=function(t,e,n){if("string"==typeof t){if("string"==typeof e?(e=0,n=this.length):"string"==typeof n&&(n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=n===a?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=i.isBuffer(t)?t:new i(t),u=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%u]}return this},i.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u(null,0);var n;if(e===a)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=c(null,e),s=0;for(n=0;n<t.length;++n){var l=t[n];if(!i.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(o,s),s+=l.length}return o},i.byteLength=d,i.prototype._isBuffer=!0,i.isBuffer=function(t){return!(null==t||!t._isBuffer)},e.exports=i},{isarray:12}],39:[function(e,n,r){(function(t){"use strict";n.exports="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{}],nebpay:[function(t,e,n){"use strict";var r=t("extend"),o=t("./libs/http"),i=t("./libs/config"),s=t("./libs/pay"),u=t("bignumber.js"),c=function(t,e){this._pay=new s(t,e)};c.config=i;var l={goods:{name:"",desc:"",orderId:"",ext:""},qrcode:{showQRCode:!0,completeTip:a,cancelTip:a,container:a},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:a},callback:a,listener:a,nrc20:a,debug:!1};c.prototype={pay:function(t,e,n){return n=r(l,n),this._pay.submit("NAS",t,e,{type:"binary"},n)},nrc20pay:function(t,e,n,o){o.nrc20&&o.nrc20.decimals>0&&(n=new u(n=n||"0").times(new u(10).pow(o.nrc20.decimals)).toString(10));var i="";o.nrc20&&o.nrc20.address&&(i=o.nrc20.address);var a=[e,n],s={type:"call",function:"transfer",args:JSON.stringify(a)};return o=r(l,o),this._pay.submit(t,i,"0",s,o)},deploy:function(t,e,n,o){var i={type:"deploy",source:t,sourceType:e,args:n};return o=r(l,o),this._pay.submit("NAS","","0",i,o)},call:function(t,e,n,o,i){var a={type:"call",function:n,args:o};return i=r(l,i),this._pay.submit("NAS",t,e,a,i)},simulateCall:function(t,e,n,o,i){var a={type:"simulateCall",function:n,args:o};return i=r(l,i),this._pay.submit("NAS",t,e,a,i)},queryPayInfo:function(t,e){var n=(e=r(l,e)).callback||i.payUrl(e.debug);return n=n+"/query?payId="+t,o.get(n)},getTransactionReceipt:function(t){var e={hash:t};return o.post("https://mainnet.nebulas.io/v1/user/getTransactionReceipt",e,{"content-type":"application/json"})}},e.exports=c},{"./libs/config":3,"./libs/http":5,"./libs/pay":6,"bignumber.js":8,extend:11}]},{},[]))(8),c=e("nebpay"),l=new c;!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=9)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"isValidAddr",function(){return o}),n.d(e,"isValidTxHash",function(){return i}),n.d(e,"isValidPayId",function(){return a});var r=n(20);function o(t){return/^n\d[0-9a-zA-Z]{33}$/.test(t)}function i(t){return/^[0-9a-zA-Z]{64}$/.test(t)}function a(t){return/^[0-9a-zA-Z]{32}$/.test(t)}n.d(e,"ready",function(){return r.a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"INVALID_ARG",function(){return r}),n.d(e,"INVALID_USER_ADDR",function(){return o}),n.d(e,"INVALID_CONTRACT_ADDR",function(){return i}),n.d(e,"NETWORK_ERROR",function(){return a}),n.d(e,"SERVER_ERROR",function(){return s}),n.d(e,"INVALID_REQUEST",function(){return u}),n.d(e,"INVALID_CONTRACT",function(){return c}),n.d(e,"TX_TIMEOUT",function(){return l}),n.d(e,"PAY_ID_REG_FAILED",function(){return f}),n.d(e,"TX_REJECTED_BY_USER",function(){return d}),n.d(e,"TX_STATUS_UNKNOWN",function(){return h}),n.d(e,"TX_FAILED",function(){return p}),n.d(e,"CALL_FAILED",function(){return g}),n.d(e,"DEPLOY_FAILED",function(){return m}),n.d(e,"EXTENSION_NOT_INSTALLED",function(){return v}),n.d(e,"EXTENSION_TIMEOUT",function(){return b}),n.d(e,"EXTENSION_NO_WALLET",function(){return y});var r="invalid arg",o="invalid user addr",i="invalid contract addr",a="network error",s="server error",u="invalid request",c="invalid contract",l="tx timeout",f="pay id reg failed",d="tx rejected by user",h="tx status unknown",p="tx failed",g="call failed",m="deploy failed",v="extension not installed",b="extension timeout",y="extension no wallet"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"isSupported",function(){return s}),n.d(e,"isWalletExtensionInstalled",function(){return u});var r=n(17),i=n(18);n.d(e,"isMobileDevice",function(){return i.c}),n.d(e,"isDesktopDevice",function(){return i.b}),n.d(e,"isDesktopChrome",function(){return i.a}),n.d(e,"isWeChat",function(){return i.e}),n.d(e,"isWalletMobileApp",function(){return i.d});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function s(){return Object(r.b)()&&Object(r.d)()&&Object(r.a)()&&Object(r.c)()}function u(){if("object"===("undefined"==typeof NasExtWallet?"undefined":a(NasExtWallet)))return!0;var t=o.webExtensionWallet;return!!t&&String(t).includes("nebulas")}u()&&!o.NasExtWallet&&(o.NasExtWallet={})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"MAIN",function(){return r}),n.d(e,"TEST",function(){return o}),n.d(e,"LOCAL",function(){return i}),n.d(e,"MAINNET",function(){return s}),n.d(e,"TESTNET",function(){return u}),n.d(e,"set",function(){return l}),n.d(e,"get",function(){return f});var r="mainnet",o="testnet",i="local",s=r,u=o,c=r;function l(){var t=arguments.length>0&&arguments[0]!==a?arguments[0]:"";t=String(t),-1!==[r,o,i].indexOf(t)?c=t:console.error("[Nasa.js] Wrong env name!")}function f(){return c}},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return l});var r,o=n(3);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=c.config,s=(i(r={},o.LOCAL,{chainId:100,endpoint:"http://localhost:8685/",apiPayId:a.testnetUrl}),i(r,o.TEST,{chainId:1001,endpoint:"https://testnet.nebulas.io/",apiPayId:a.testnetUrl}),i(r,o.MAIN,{chainId:1,endpoint:"https://mainnet.nebulas.io/",apiPayId:a.mainnetUrl}),r);function u(t){var e=o.get();return s[e][t]||""}function l(){var t={};return t.callback=u("apiPayId"),t}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});var r=n(0),o=["n1bCep7RbeCWQk9EQo48V3TuXEdZLCS7eTn","n1Q5ywsbu49mFV4RZSuq3URenNaxiWE4fxe","n1Qj7ynMBW77PCB4Q2EBrfRGQE73PR54VNe","n1YRjbJVRUP9kfpx92wHViJeU4owxLqzReZ","n1ZL7QLfm8UEbUqwEJ9zWBacN1yqk7biM3d"];function i(){var t=o.length,e=Math.floor(Math.random()*t);return o[e]}function a(t){r.isValidAddr(t)&&(o.length=0,o.push(t))}},function(t,e,n){"use strict";e.a=function(t){return(t=String(t)).replace(/^call:/i,"").trim().replace(/^error:/i,"").trim()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"set",function(){return l}),n.d(e,"get",function(){return f});var r=n(3),o=n(0),i=n(22);n.d(e,"query",function(){return i.a});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u={},c="default";function l(t){if("object"!==(void 0===t?"undefined":s(t)))console.error("[Nasa.js] Wrong param!");else{var e=Object.keys(t);-1!==e.indexOf(c)||u[c]||console.error("[Nasa.js] Missing default contract!"),e.forEach(function(e){var n=t[e],i=u[e]=u[e]||{};[r.MAIN,r.TEST,r.LOCAL].forEach(function(t){var r=(n[t]||"").trim();r&&(Object(o.isValidAddr)(r)?i[t]=r:console.error("[Nasa.js] "+e+"."+t+" ("+r+") is not valid!"))})})}}function f(){var t=arguments.length>0&&arguments[0]!==a?arguments[0]:"",e=r.get();return(u[t||c]||{})[e]||""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);n.d(e,"getAddr",function(){return r.a})},function(t,e,n){n(10),t.exports=n(25)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),o=n(12),i=n(15),a=n(2),f=n(0),d=n(8),h=n(3),p=n(7),g=n(24),m={NebPay:c,nebPay:l,BigNumber:u,error:r.a,core:o,tx:i,ua:a,util:f,user:d,env:h,contract:p};m.config=m.core.config,m.query=m.contract.query,m.call=m.tx.call,m.getTxResult=m.tx.getTxResult,m.ready=m.util.ready,m.ua.isNasNano=m.ua.isWalletMobileApp,m.checkTx=function(t,e){return console.warn("[Nasa.js] `.checkTx()` is deprecated, use `.getTxResult()` instead!"),m.tx.getTxResult(t,e)},Object(g.a)(),m.VERSION="0.2.0",void 0!==s&&(s.Nasa=m),e.default=m},function(t,e,n){"use strict";var r=n(1);n.d(e,"a",function(){return r})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13);n.d(e,"config",function(){return r.a})},function(t,e,n){"use strict";e.a=function(t){var e=[r.LOCAL,r.TEST,r.MAIN],n=["endpoint"];Object(o.a)(t,function(t,r){if(e.includes(r)&&"object"===(void 0===t?"undefined":a(t))){var o={};n.forEach(function(e){t[e]&&(o[e]=t[e])}),Object.assign(i.a[r],o)}})};var r=n(3),o=n(14),i=n(4),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}},function(t,e,n){"use strict";e.a=function(t,e){if("function"!=typeof e)return;if(t&&"object"===(void 0===t?"undefined":r(t))){var n=Object.keys(t);n.forEach(function(n){var r=t[n];e(r,n)})}else Array.isArray(t)&&t.forEach(e)};var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(16);n.d(e,"getTxResult",function(){return r.a});var o=n(21);n.d(e,"call",function(){return o.a})},function(t,e,n){"use strict";e.a=function(t){var e=arguments.length>1&&arguments[1]!==a?arguments[1]:{};return Object(s.isValidTxHash)(t)?new Promise(function(n,a){var f=[10,5,7,8,15,15];if(e.noWait)h();else if(o.isWalletExtensionInstalled()){var d=f.shift();setTimeout(h,1e3*d)}else h();function h(){l.getTransactionReceipt(t).then(function(t){var e={};try{e=JSON.parse(t)}catch(t){console.error("JSON parsing error")}console.log(e);var o=e.result||{};if(0===o.status){var l=void 0;o.execute_error&&(l=Object(u.a)(o.execute_error)),l||(l=r.TX_FAILED,"call"===o.type&&(l=r.CALL_FAILED),"deploy"===o.type&&(l=r.DEPLOY_FAILED)),n(c(o,l))}else 1===o.status?n(c(o)):2===o.status?p():a(new Error(r.TX_STATUS_UNKNOWN));var f=o.from;Object(s.isValidAddr)(f)&&Object(i.b)(f)},function(t){console.error(t.message||r.NETWORK_ERROR),p()})}function p(){var t=f.shift();t?setTimeout(h,1e3*t):a(new Error(r.TX_TIMEOUT))}}):Promise.reject(new Error(r.INVALID_ARG))};var r=n(1),o=n(2),i=n(5),s=(n(4),n(0)),u=n(6);function c(t,e){var n={type:t.type,nonce:t.nonce,gasPrice:t.gas_price||t.gasPrice,gasLimit:t.gas_limit||t.gasLimit,gasUsed:t.gas_used||t.gasUsed,chainId:t.chainId,from:t.from,to:t.to,value:t.value,hash:t.hash,status:t.status,timestamp:t.timestamp};if(e)n.execError=e;else{var r=t.execute_result;try{r=JSON.parse(r)}catch(t){}n.execResult=r}return n}},function(t,e,n){"use strict";function r(){return"function"==typeof o.fetch}function i(){return"function"==typeof String.prototype.includes}function a(){return"function"==typeof Array.prototype.includes}function s(){return"function"==typeof Object.assign}n.d(e,"b",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"a",function(){return a}),n.d(e,"c",function(){return s})},function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"d",function(){return f});var r=n(19),o=!1,i=void 0;function a(){i=Object(r.a)(r.b)}function s(){return o||a(),i.isMobileDevice}function u(){return o||a(),!i.isMobileDevice}function c(){return o||a(),i.isChrome&&u()}function l(){return o||a(),"wechat"===i.browser}function f(){return/nasnanoapp/i.test(r.b.str)}},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var r=o.gearbox||{};r.str=r.str||{},r.str.includes=r.str.includes||function(t,e){return String(t).includes(e)};var i={compact:function(t){return t}},a={};function s(t){var e=t.str.toLowerCase(),n=r.str.includes;if(t.isSafari=/\bapple\b/i.test(navigator.vendor)&&/\bsafari\b/i.test(e),t.isChrome=n(e,"chrome")||n(e,"crios"),t.osVersion="",t.isIOS=/\(i(?:phone|pod|pad)\b/.test(e)||/\bios \d+\./.test(e),t.isIOS)t.isIPad=/\(ipad\b/.test(e),t.isIPod=/\(ipod\b/.test(e),t.isIPhone=/\(iphone\b/.test(e),t.osVersion=(/[\/; i]os[\/: _](\d+(?:[\._]\d+)?)[\._; ]/.exec(e)||[0,""])[1].replace("_",".");else{var o=n(e,"android"),i=/\badr\b/.test(e)&&/\blinux;\s*u;/.test(e),a=/juc\s*\(linux;\s*u;\s*\d+\.\d+/.test(e);t.isAndroid=o||i||a,t.osVersion=i||a?(/\badr[\/: ]?(\d+\.\d)\d*\b/.exec(e)||/\blinux;\s*u;\s*(\d+\.\d)\d*\b/.exec(e)||[0,""])[1]:(/\bandroid(?:_os)?[\/: ]?(\d+\.\d)\d*\b/.exec(e)||[0,""])[1]}n(e,"windows phone")&&(t.isIOS=t.isAndroid=!1,t.osVersion=""),t.osVersion&&!n(t.osVersion,".")&&(t.osVersion+=".0"),t.isMobileDevice=!(!t.isIOS&&!t.isAndroid);var s="";n(e,"micromessenger")?s="wechat":n(e,"ucbrowser")||n(e,"ucweb")||n(e," uc applewebkit")?s="uc":n(e,"baiduhd")||n(e,"baiduboxapp")?s="baidu-app":n(e,"baidubrowser")?s="baidu-browser":n(e,"mqqbrowser")?s="m-qq-browser":n(e,"miuibrowser")?s="miui":n(e,"_weibo_")||n(e," weibo ")?s="weibo":n(e,"firefox")?s="firefox":n(e,"opera")?s="opera":n(e," edge/")?s="edge":n(e,"iemobile")?s="ie-mobile":t.isChrome?(s="chrome",t.isAndroid&&/\bwv\b/.test(e)&&(s="chrome-webview")):t.isSafari&&(s="safari"),"chrome"!==s&&(t.isChrome=!1),"safari"!==s&&(t.isSafari=!1);var c="",l="",f=/chrome[^\d]*([\.\d]*)[ ;\/]/.exec(e);if(f)c="chrome",l=u(f[1]);else{var d=/webkit[^\d]*([\.\d]*)\+*[ ;\/]/.exec(e);d&&(c="webkit",l=u(d[1]))}return c||(n(e,"webkit")?c="webkit":t.isIOS?c="webkit":t.isAndroid&&"m-qq-browser"===s&&(c="webkit"),"firefox"!==s||t.isIOS||(c="gecko"),"opera"===s&&!t.isIOS&&n(e,"presto")&&(c="presto")),"edge"===s?(c="edge",l=""):"ie-mobile"===s&&(c=l=""),t.browser=s,t.engine=c,t.engineVersion=l,t}function u(t,e){var n=t.split(".");return n.length=e||2,i.compact(n).join(".")}a.isTouchDevice="ontouchstart"in o&&"ontouchmove"in o&&"ontouchend"in o,a.str=navigator.userAgent},function(t,e,n){"use strict";e.a=function(t){if("function"!=typeof t)return;a.push(t),s||(s=new Promise(function(t,e){r.isDesktopChrome()?r.isWalletExtensionInstalled()?t(!0):setTimeout(function e(n){r.isWalletExtensionInstalled()?t(!0):n?t(!1):setTimeout(e,100,o())},100,o()):t(!1)}));s.then(function(t){!function(){for(;a.length;){var t=a.shift();try{t()}catch(t){console.error(t)}}}()})};var r=n(2);function o(){return"interactive"===i.readyState||"complete"===i.readyState}var a=[];var s=void 0},function(t,e,n){"use strict";e.a=function(t,e){var n=arguments.length>2&&arguments[2]!==a?arguments[2]:[],f=arguments.length>3&&arguments[3]!==a?arguments[3]:{},d=Object(u.isValidAddr)(t)?t:Object(s.get)(t);if(!d)return Promise.reject(new Error(r.INVALID_CONTRACT_ADDR));if(!e||!Array.isArray(n))return Promise.reject(new Error(r.INVALID_ARG));return new Promise(function(t,a){var s=d,u=f.value||"0",h={qrcode:{showQRCode:!1},listener:function(e,n){if("string"==typeof n){(n=n.toLowerCase()).includes("rejected by user")&&a(new Error(r.TX_REJECTED_BY_USER)),(n.includes("stream terminated")||n.includes("refused_stream"))&&a(new Error(r.SERVER_ERROR)),n.includes("import wallet")&&a(new Error(r.EXTENSION_NO_WALLET));var o=Object(c.a)(n);a(new Error(o))}else n.txhash?(n.txhash,t({payId:e,txHash:n.txhash})):n.error&&a(new Error(r.PAY_ID_REG_FAILED))}};h=Object.assign({},Object(i.b)(),h);var p=l.call(s,u,String(e),JSON.stringify(n),h);p,o.isWalletExtensionInstalled()||t({payId:p})})};var r=n(1),o=n(2),i=n(4),s=n(7),u=n(0),c=n(6);"function"==typeof Symbol&&Symbol.iterator},function(t,e,n){"use strict";e.a=function(t,e){var n=arguments.length>2&&arguments[2]!==a?arguments[2]:[],l=arguments.length>3&&arguments[3]!==a?arguments[3]:{},f=Object(u.isValidAddr)(t)?t:Object(s.get)(t);if(!f)return Promise.reject(new Error(r.INVALID_CONTRACT_ADDR));if(!e||!Array.isArray(n))return Promise.reject(new Error(r.INVALID_ARG));var d=l.from||o.a();if(!Object(u.isValidAddr)(d))return Promise.reject(new Error(r.INVALID_USER_ADDR));var h=Object(i.c)("endpoint")+"v1/user/call",p={from:d,to:f,value:"0",nonce:"0",gasPrice:"1000000",gasLimit:"2000000",type:"call",contract:{function:String(e),args:JSON.stringify(n)}};return fetch(h,{body:JSON.stringify(p),headers:{"content-type":"application/json"},method:"POST",cache:"no-cache",mode:"cors"}).then(function(t){if(t.ok)return t.json();throw new Error(r.INVALID_REQUEST)},function(){throw new Error(r.SERVER_ERROR)}).then(function(t){var e=t.result||{},n={estimateGas:e.estimate_gas},o=e.execute_err;if("contract check failed"===o)throw new Error(r.INVALID_CONTRACT);if(o&&"insufficient balance"!==o)n.execError=Object(c.a)(o);else{var i=e.result;try{i=JSON.parse(e.result)}catch(t){}n.execResult=i}return n})};var r=n(1),o=n(5),i=n(4),s=n(7),u=n(0),c=n(6)},function(t,e,n){"use strict";e.a=function(){if(!Object(a.isWalletExtensionInstalled)())return Promise.reject(new Error(r.EXTENSION_NOT_INSTALLED));if("object"===("undefined"==typeof NasExtWallet?"undefined":s(NasExtWallet))&&"function"==typeof NasExtWallet.getUserAddress)return new Promise(function(t,e){NasExtWallet.getUserAddress(function(e){t(e)}),setTimeout(function(){e(new Error(r.EXTENSION_NO_WALLET))},300)});return o.postMessage({target:"contentscript",data:{},method:"getAccount"},"*"),new Promise(function(t,e){o.addEventListener("message",function e(n){var r=((n.data||{}).data||{}).account||"";(r=String(r))&&Object(i.isValidAddr)(r)&&(o.removeEventListener("message",e,!1),t(r))},!1),setTimeout(function(){e(new Error(r.EXTENSION_NO_WALLET))},300)})};var r=n(1),i=n(0),a=n(2),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}},function(t,e,n){"use strict";e.a=function(){i.addEventListener("DOMContentLoaded",function(){setTimeout(function(){r.getAddr().then(function(t){o.b(t)},function(){})},200)})};var r=n(8),o=n(5)},function(t,e){}])}}(window,document)}).call(e,n("9AUj"))},"3vwA":function(t,e,n){(t.exports=n("UTlt")(!0)).push([t.i,"\n.nebulas {\n  display: block;\n}\n.nebulas .nebulas-list {\n  width: 100%;\n}\n.nebulas .nebulas-bottom {\n  margin-top: 30px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: end;\n      -ms-flex-align: end;\n          align-items: flex-end;\n}\n.nebulas .nebulas-bottom .el-button {\n  margin-left: 16px;\n}\n","",{version:3,sources:["/Users/lipeizhou/Documents/h5workspace/llpppzzz.github.io/src/page/nebulas/nebulas.vue"],names:[],mappings:";AACA;EACE,eAAe;CAChB;AACD;EACE,YAAY;CACb;AACD;EACE,iBAAiB;EACjB,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,uBAAuB;MACnB,oBAAoB;UAChB,sBAAsB;CAC/B;AACD;EACE,kBAAkB;CACnB",file:"nebulas.vue",sourcesContent:["\n.nebulas {\n  display: block;\n}\n.nebulas .nebulas-list {\n  width: 100%;\n}\n.nebulas .nebulas-bottom {\n  margin-top: 30px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: end;\n      -ms-flex-align: end;\n          align-items: flex-end;\n}\n.nebulas .nebulas-bottom .el-button {\n  margin-left: 16px;\n}\n"],sourceRoot:""}])},"8p3C":function(t,e,n){var r=n("3vwA");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n("FIqI")("0f2b3673",r,!0,{})},j6hn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lC5x"),o=n.n(r),i=(n("2ikD"),n("K9uI")),a=n("9WYf");var s=i.a.isMobile,u={name:"nebulas",mixins:[a.a],data:function(){return{content:"",result:[],getAllApi:this.$api.contract.getAllItems,pageLoading:!1,loading:!0,sort:"",direction:"",params:{}}},created:function(){var t=this;s||Nasa.ready(function(){Nasa.ua.isWalletExtensionInstalled()||t.$confirm("请先安装星云钱包 Chrome 扩展！","",{showCancelButton:!0,confirmButtonText:"GitHub",type:"error"}).then(function(e){e.value;t.open("https://github.com/nebulasio/WebExtensionWallet")}).catch(function(){})})},mounted:function(){},computed:{},watch:{},methods:{changeStatus:function(){this.loading=!0,this.params={dir:this.direction,sort:this.sort}},getList:function(t){this.result=t.list,this.loading=t.status,this.pageLoading=!1},sortChange:function(t){this.sort=t.prop,this.direction=t.order,this.changeStatus()},submit:function(){var t,e=this;return(t=o.a.mark(function t(){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=3;break}return e.$message.error("暂不支持移动端！"),t.abrupt("return");case 3:return t.prev=3,t.next=6,e.$api.contract.setItem(e.content);case 6:return n=t.sent,r=n.txHash,e.pageLoading=!0,t.next=11,e.$api.contract.getTxResult(r);case 11:e.content="",e.$message.success("发布成功!"),e.changeStatus(),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(3),console.log(t.t0),e.$message.error(t.t0.message),e.pageLoading=!1;case 21:case"end":return t.stop()}},t,e,[[3,16]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}("next")})})()}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.pageLoading,expression:"pageLoading"}],staticClass:"nebulas",attrs:{"element-loading-text":"已提交，正在确认","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[n("div",{staticClass:"nebulas-list"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.result,stripe:"","default-sort":{prop:"published_at",order:"descending"}},on:{"sort-change":t.sortChange}},[n("el-table-column",{attrs:{label:"内容",prop:"content"}}),t._v(" "),n("el-table-column",{attrs:{label:"发布时间",prop:"published_at",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("span",[t._v(t._s(t._f("dateConvert")(r.published_at)))])]}}])})],1),t._v(" "),n("my-pagination",{attrs:{api:t.getAllApi,params:t.params},on:{list:t.getList}})],1),t._v(" "),n("div",{staticClass:"nebulas-bottom"},[n("el-input",{attrs:{type:"textarea",resize:"none"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),n("el-button",{attrs:{size:"mini"},on:{click:function(e){t.submit()}}},[t._v("提交")])],1)])},staticRenderFns:[]};var l=n("C7Lr")(u,c,!1,function(t){n("8p3C")},null,null);e.default=l.exports}});
//# sourceMappingURL=3.9085009fc2ec1fc03a39.js.map